
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Binary Releases with Github - Chris Eldredge</title>
  <meta name="author" content="Chris Eldredge">

  
  <meta name="description" content="Binary Releases With Github Apr 15th, 2014 For those of us who work in compiled languages, build and deployment
means more than just git push. &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  

  <script type="text/javascript" src="//use.typekit.net/wvv4pst.js"></script>
  <script type="text/javascript">try{Typekit.load();}catch(e){}</script>

  <link rel="canonical" href="http://chris.eldredge.io/blog/2014/04/15/binary-releases-with-github/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Chris Eldredge" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="/webfonts/ss-social-circle.css" rel="stylesheet" />

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-30472598-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   class="no-sidebar"  >
  <header role="banner" id="page-header"><hgroup>
  <h1><a href="/">Chris Eldredge</a></h1>
  
    <h2>software development with a splash of bitters</h2>
  
</hgroup>

</header>
  <div id="main">
    <div id="content">
      <article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Binary Releases With Github</h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-04-15T15:35:00-04:00" pubdate data-updated="true" class="meta-date">Apr 15<span>th</span>, 2014</time>
      </p>
    
  </header>



  <div class="entry-content"><p>For those of us who work in compiled languages, build and deployment
means more than just git push.</p>

<h2>Everywhere a git repo</h2>

<p>To deploy a .net site in the past, usually a build script would create
a zip file or other package of the compiled assets and static resources
and you would deploy it using msdeploy, OctopusDeploy or some manual process
that involves sacrificial rites and prayer.</p>

<p>Recently, more and more web stacks and PaaS vendors allow you to
push your repo to a deployment endpoint and the site would be updated automatically.
The simplicity here is undeniable, and outsourcing all the messy scripts that
update your site content while keeping your site online is a huge win
for busy developers who would rather focus on other tasks.</p>

<p>We&#8217;ve seen this first with static hosting vendors like Github Pages, then with
evaluated languages like Python, Node and Ruby. Now with vendors that support
JEE and .net, we can do the same thing with compiled languages.</p>

<h2>Setup</h2>

<p>Running an open source product, I wanted to give users several options for
downloading a release and deploying it to their own infrastucture. I ended up
with a workflow that ships releases as (1) a zip file that can be downloaded, (2)
a git repository that can be cloned/tracked and (3) a source repo that can be
built with a completely automated build process.</p>

<p>I particularly love distributing a release repo with git because it allows
users to track the repo and maintain local customizations to configuration
and markup while maintaining the ease of merging and updating with git.</p>

<h2>Grunt and Submodules</h2>

<p>Many build tools like Grunt and Jekyll will stage a site into a directory like
<code>dist/</code> or <code>_output/</code> and when they clean the output directory, they smartly
leave alone any .git directories underneath. This allows us to treat our build
directory as a separate git repo and commit changes to it after building a new
release.</p>

<p>In Klondike I opted to set up the <code>dist/</code> directory as a submodule. I have mixed
feelings about how well this works. On the one hand I like how the birds-eye view
shows the submodule on the Klondike project page to give users a hint that a
repo exists for releases, but it can get messy committing on the source repo
simply to update the revision that the submodule should be tracking.</p>

<h2>Release Workflow</h2>

<ol>
<li>Do stuff, test stuff, commit stuff</li>
<li>Stage a release (e.g. <code>grunt build</code>) into <code>dist/</code></li>
<li>Commit, tag and push <code>dist/</code></li>
<li>Commit, tag and push source repo</li>
</ol>


<p>At this point anyone tracking the release repo can pull to get the new version. Some
manual steps are required to publish a release and provide a zip file that mirrors
HEAD on the release repo.</p>

<ol>
<li>Grab a zip of the latest tag on the release repo from the <a href="https://github.com/themotleyfool/Klondike-Release/releases">releases</a> view</li>
<li>Draft a new release on the source repo</li>
<li>Add release notes that describe what&#8217;s new</li>
<li>Upload the zip file from step 1</li>
<li>Tweet about it</li>
</ol>


<h2>Some Nice-to-Haves</h2>

<p>I know Github has a <a href="https://developer.github.com/v3/repos/releases/">Releases API</a> but I haven&#8217;t taken
the time to automate the manual tasks above.</p>

<p>It would be nice if, when drafting release notes, the UI could show a summary of changesets that
were commited between the last release and the current draft. As it stand I open the changelog somewhere
else, and the issues tab and manually draft release notes from these. It would be awesome if Github
could generate this information automagically.</p>
</div>



    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://chris.eldredge.io/blog/2014/04/15/binary-releases-with-github/" data-via="creldredge" data-counturl="http://chris.eldredge.io/blog/2014/04/15/binary-releases-with-github/" >Tweet</a>
  
  
  
</div>

    

  <footer class="page-footer">
    <a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS" class="ss-icon rss">RSS</a>


  <form action="http://google.com/search" method="get">
    <input type="hidden" name="q" value="site:chris.eldredge.io" />
    <input class="search ss-search" type="text" name="q" results="0" />
  </form>



      <a class="prev-page" href="/blog/2014/03/05/windbg-dump-entries-in-array/" title="Previous Post: WinDbg: Dump entries in array">previous</a> |


    <a href="/blog/archives" class="see-more">archive</a>


      | <a class="next-page" href="/blog/2014/04/22/NuGet-Feed-with-WebApi-OData/" title="Next Post: NuGet Feed with WebApi OData">next</a>

  </footer>

</article>

<section class="comments">
  <h1>Comments</h1>
  <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
</section>

    </div>
  </div>
  <footer role="contentinfo" class="site-footer"><div class="bio">
  <h3>Chris Eldredge</h3>
  <p>Iâ€™m a software developer for <a href="http://www.fool.com/">The Motley Fool</a>. I tend to spend a lot of time on build and release tools. When I'm not hacking codes, I'm probably reading, cooking, drinking old-man drinks or studying Korean with <a href="http://ttmik.com/">TTMIK</a>.</p>
</div>
<ul class="social">
  <li><a href="https://www.github.com/chriseldredge" class="ss-icon">octocat</a></li>
  <li><a href="http://www.linkedin.com/pub/chris-eldredge/1/52b/520" class="ss-icon">linkedin</a></li>
  <li><a href="http://www.twitter.com/creldredge" class="ss-icon">twitter</a></li>
</ul>
<p class="copyright">
  Copyright &copy; 2015 - Chris Eldredge
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'chriseldredge';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://chris.eldredge.io/blog/2014/04/15/binary-releases-with-github/';
        var disqus_url = 'http://chris.eldredge.io/blog/2014/04/15/binary-releases-with-github/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
